<!DOCTYPE html>
<html>

<head>
  <title>Electron Demo Counter</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="card">
    <div class="toolbar">
      <button class="ghost" id="theme-toggle">Light mode</button>
    </div>
    <h1>Simple Counter</h1>
    <div class="value" id="count">0</div>
    <div class="buttons">
      <button class="decrement" id="decrement">-1</button>
      <button id="increment">+1</button>
      <button class="reset" id="reset">Reset</button>
    </div>
    <div class="hints">
      <div class="hint-content">
        <p> Keyboard Shortcuts:</p>
        <p><kbd>↑</kbd> or <kbd>+</kbd> Increment</p>
        <p><kbd>↓</kbd> or <kbd>-</kbd> Decrement</p>
        <p><kbd>R</kbd> Reset</p>
      </div>
    </div>
  </div>

  <script>
    // Basic counter logic in the renderer
    const countEl = document.getElementById('count');
    let value = 0;

    const update = () => {
      countEl.textContent = value;
    };

    document.getElementById('increment').addEventListener('click', () => {
      value += 1;
      update();
    });

    document.getElementById('decrement').addEventListener('click', () => {
      value -= 1;
      update();
    });

    document.getElementById('reset').addEventListener('click', () => {
      value = 0;
      update();
    });

    update();

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowUp' || e.key === '+') {
        e.preventDefault();
        value += 1;
        update();
      } else if (e.key === 'ArrowDown' || e.key === '-') {
        e.preventDefault();
        value -= 1;
        update();
      } else if (e.key.toLowerCase() === 'r') {
        value = 0;
        update();
      }
    });

    // Light/dark theme toggle
    const themeToggle = document.getElementById('theme-toggle');
    const THEME_KEY = 'theme-preference';

    const updateThemeLabel = () => {
      themeToggle.textContent = document.body.classList.contains('light') ? 'Dark mode' : 'Light mode';
    };

    // Load saved theme preference
    const savedTheme = localStorage.getItem(THEME_KEY);
    if (savedTheme === 'light') {
      document.body.classList.add('light');
    }
    updateThemeLabel();

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('light');
      const isLight = document.body.classList.contains('light');
      localStorage.setItem(THEME_KEY, isLight ? 'light' : 'dark');
      updateThemeLabel();
    });
  </script>
</body>

</html>